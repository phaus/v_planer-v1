<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ThinkingSphinx::Field</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ThinkingSphinx::Field</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/thinking_sphinx/field_rb.html">
                lib/thinking_sphinx/field.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="Property.html">
                ThinkingSphinx::Property
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Fields - holding the string data which Sphinx indexes for your searches.
This class isn&#8216;t really useful to you unless you&#8216;re hacking
around with the internals of Thinking Sphinx - but hey, don&#8216;t let
that stop you.
</p>
<p>
One key thing to remember - if you&#8216;re using the field manually to
generate SQL statements, you&#8216;ll need to set the base model, and all
the associations. Which can get messy. Use Index.link!, it really helps.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000261">new</a>&nbsp;&nbsp;
      <a href="#M000262">to_select_sql</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">infixes</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">prefixes</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">sortable</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000261" class="method-detail">
        <a name="M000261"></a>

        <div class="method-heading">
          <a href="Field.src/M000261.html" target="Code" class="method-signature"
            onclick="popupCode('Field.src/M000261.html');return false;">
          <span class="method-name">new</span><span class="method-args">(source, columns, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
To create a <a href="Field.html#M000261">new</a> field, you&#8216;ll need
to pass in either a single Column or an array of them, and some (optional)
options. The columns are references to the data that will make up the
field.
</p>
<p>
Valid options are:
</p>
<ul>
<li>:as =&gt; :alias_name

</li>
<li>:sortable =&gt; true

</li>
<li>:infixes =&gt; true

</li>
<li>:prefixes =&gt; true

</li>
</ul>
<p>
Alias is only required in three circumstances: when there&#8216;s another
attribute or field with the same name, when the column name is
&#8216;id&#8217;, or when there&#8216;s more than one column.
</p>
<p>
Sortable defaults to false - but is quite useful when set to true, as it
creates an attribute with the same string value (which Sphinx converts to
an integer value), which can be sorted by. Thinking Sphinx is smart enough
to realise that when you specify fields in sort statements, you mean their
respective attributes.
</p>
<p>
If you have partial matching enabled (ie: enable_star), then you can
specify certain fields to have their prefixes and infixes indexed. Keep in
mind, though, that Sphinx&#8216;s default is <em>all</em> fields - so once
you highlight a particular field, no other fields in the index will have
these partial indexes.
</p>
<p>
Here&#8216;s some examples:
</p>
<pre>
  Field.new(
    Column.new(:name)
  )

  Field.new(
    [Column.new(:first_name), Column.new(:last_name)],
    :as =&gt; :name, :sortable =&gt; true
  )

  Field.new(
    [Column.new(:posts, :subject), Column.new(:posts, :content)],
    :as =&gt; :posts, :prefixes =&gt; true
  )
</pre>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000262" class="method-detail">
        <a name="M000262"></a>

        <div class="method-heading">
          <a href="Field.src/M000262.html" target="Code" class="method-signature"
            onclick="popupCode('Field.src/M000262.html');return false;">
          <span class="method-name">to_select_sql</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the part of the SELECT clause related to this field. Don&#8216;t forget
to set your model and associations first though.
</p>
<p>
This will concatenate strings if there&#8216;s more than one data source or
multiple data values (has_many or has_and_belongs_to_many associations).
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>