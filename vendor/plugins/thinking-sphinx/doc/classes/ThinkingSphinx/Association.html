<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ThinkingSphinx::Association</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ThinkingSphinx::Association</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/thinking_sphinx/association_rb.html">
                lib/thinking_sphinx/association.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
<a href="Association.html">Association</a> tracks a specific reflection and
join to reference data that isn&#8216;t in the base model. Very much an
internal class for Thinking Sphinx - perhaps because I feel it&#8216;s not
as strong (or simple) as most of the rest.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000157">ancestors</a>&nbsp;&nbsp;
      <a href="#M000152">children</a>&nbsp;&nbsp;
      <a href="#M000153">children</a>&nbsp;&nbsp;
      <a href="#M000158">has_column?</a>&nbsp;&nbsp;
      <a href="#M000156">is_many?</a>&nbsp;&nbsp;
      <a href="#M000154">join_to</a>&nbsp;&nbsp;
      <a href="#M000151">new</a>&nbsp;&nbsp;
      <a href="#M000159">primary_key_from_reflection</a>&nbsp;&nbsp;
      <a href="#M000160">table</a>&nbsp;&nbsp;
      <a href="#M000155">to_sql</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">join</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">parent</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">reflection</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000153" class="method-detail">
        <a name="M000153"></a>

        <div class="method-heading">
          <a href="Association.src/M000153.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000153.html');return false;">
          <span class="method-name">children</span><span class="method-args">(klass, assoc, parent=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the <a href="Association.html#M000152">children</a> associations for a
given class, association name and parent association. Much like the
instance method of the same name, it will return an empty array if no
associations have the name, and only have multiple association instances if
the underlying relationship is polymorphic.
</p>
<pre>
  Association.children(User, :pages, user_association)
</pre>
        </div>
      </div>

      <div id="method-M000151" class="method-detail">
        <a name="M000151"></a>

        <div class="method-heading">
          <a href="Association.src/M000151.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000151.html');return false;">
          <span class="method-name">new</span><span class="method-args">(parent, reflection)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a <a href="Association.html#M000151">new</a> association by passing
in the parent association, and the corresponding reflection instance. If
there is no parent, pass in nil.
</p>
<pre>
  top   = Association.new nil, top_reflection
  child = Association.new top, child_reflection
</pre>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000157" class="method-detail">
        <a name="M000157"></a>

        <div class="method-heading">
          <a href="Association.src/M000157.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000157.html');return false;">
          <span class="method-name">ancestors</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array of all the associations that lead to this one - starting
with the top level all the way to the current association object.
</p>
        </div>
      </div>

      <div id="method-M000152" class="method-detail">
        <a name="M000152"></a>

        <div class="method-heading">
          <a href="Association.src/M000152.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000152.html');return false;">
          <span class="method-name">children</span><span class="method-args">(assoc)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the <a href="Association.html#M000152">children</a> associations for a
given association name. The only time that there&#8216;ll actually be more
than one association is when the relationship is polymorphic. To keep
things simple though, it will always be an Array that gets returned (an
empty one if no matches).
</p>
<pre>
  # where pages is an association on the class tied to the reflection.
  association.children(:pages)
</pre>
        </div>
      </div>

      <div id="method-M000158" class="method-detail">
        <a name="M000158"></a>

        <div class="method-heading">
          <a href="Association.src/M000158.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000158.html');return false;">
          <span class="method-name">has_column?</span><span class="method-args">(column)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000156" class="method-detail">
        <a name="M000156"></a>

        <div class="method-heading">
          <a href="Association.src/M000156.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000156.html');return false;">
          <span class="method-name">is_many?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if the association - or a parent - is a has_many or
has_and_belongs_to_many.
</p>
        </div>
      </div>

      <div id="method-M000154" class="method-detail">
        <a name="M000154"></a>

        <div class="method-heading">
          <a href="Association.src/M000154.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000154.html');return false;">
          <span class="method-name">join_to</span><span class="method-args">(base_join)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="../Link.html">Link</a> up the join for this model from a base join
- and set parent associations&#8217; joins recursively.
</p>
        </div>
      </div>

      <div id="method-M000159" class="method-detail">
        <a name="M000159"></a>

        <div class="method-heading">
          <a href="Association.src/M000159.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000159.html');return false;">
          <span class="method-name">primary_key_from_reflection</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000160" class="method-detail">
        <a name="M000160"></a>

        <div class="method-heading">
          <a href="Association.src/M000160.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000160.html');return false;">
          <span class="method-name">table</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000155" class="method-detail">
        <a name="M000155"></a>

        <div class="method-heading">
          <a href="Association.src/M000155.html" target="Code" class="method-signature"
            onclick="popupCode('Association.src/M000155.html');return false;">
          <span class="method-name">to_sql</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the association&#8216;s join SQL statements - and it replaces
</p>
<table>
<tr><td valign="top">::ts_join_alias:</td><td>with the aliased <a href="Association.html#M000160">table</a> name so the
generated reflection

</td></tr>
</table>
<p>
join conditions avoid column name collisions.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>